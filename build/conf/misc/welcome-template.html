<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>stellars-jupyterlab-ds - Welcome</title>
  <style>
    :root { color-scheme: light dark; }

    body {
      margin: 2em;
      font-family: "Segoe UI", sans-serif;
      font-size: 14px;
      line-height: 1.4;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }

    h1 {
      flex: 0 0 100%;
      margin-bottom: 0.2em;
      font-size: 1.4em;
    }

    p.intro {
      flex: 0 0 100%;
      margin-top: 0;
      margin-bottom: 1.5em;
    }

    h2 {
      font-size: 1.05em;
      margin-bottom: 0.3em;
    }

    a {
      font-weight: bold;
      word-break: break-word;
    }

    a:hover {
      text-decoration: underline;
    }

    code {
      background-color: rgba(128,128,128,0.1);
      padding: 1px 4px;
      font-family: monospace;
      font-size: 13px;
    }

    .section {
      flex: 0 0 48%;
      margin-bottom: 1.2em;
    }

    ul {
      margin: 0;
      padding-left: 1.1em;
    }

    li {
      margin: 0.2em 0;
    }

    .icon {
      margin-right: 0.3em;
    }

    @media (prefers-color-scheme: dark) {
      body { background-color: #0d1117; color: #c9d1d9; }
      h1, h2 { color: #58a6ff; }
      a { color: #8ae9ff; }
      code { background-color: #161b22; }
    }

    @media (prefers-color-scheme: light) {
      body { background-color: #ffffff; color: #000000; }
      h1, h2 { color: #003366; }
      a { color: #0066cc; }
      code { background-color: #f0f0f0; }
    }

    @media (max-width: 1000px) {
      .section { flex: 0 0 100%; }
    }
  </style>
</head>
<body>
    <h1>Welcome to <b>stellars-jupyterlab-ds</b> build @BUILD_NAME@ created on @BUILD_DATE@</h1>
  <p class="intro">
    This environment provides an integrated platform for data science, machine learning, deep learning, and model monitoring.
  </p>

  <div class="section">
    <h2>Core Services</h2>
    <ul>
	<li><span class="icon"></span><a href="https://localhost/@LAB_USER@/jupyterlab" target="_blank">https://localhost/@LAB_USER@/jupyterlab</a> â€“ <b>JupyterLab</b>: main notebook interface</li>
	<li><span class="icon"></span><a href="https://localhost/@LAB_USER@/jupyterlab/lab/tree" target="_blank">https://localhost/@LAB_USER@/jupyterlab/lab/tree</a> â€“ <b>VSCode</b> access to Jupyterlab kernels</li>
	<li><span class="icon"></span><a href="https://localhost/@LAB_USER@/tensorboard" target="_blank">https://localhost/@LAB_USER@/tensorboard</a> â€“ <b>Tensorboard</b>: training metrics visualization</li>
	<li><span class="icon"></span><a href="https://localhost/@LAB_USER@/mlflow" target="_blank">https://localhost/@LAB_USER@/mlflow</a> â€“ <b>MLFlow</b>: track ML/AI experiments and their results</li>
	<li><span class="icon"></span><a href="https://localhost/@LAB_USER@/glances" target="_blank">https://localhost/@LAB_USER@/glances</a> â€“ <b>Glances</b>: system monitor for CPU, GPU, memory</li>
    </ul>
  </div>

  <div class="section">
    <h2>Optional Tools</h2>
    <ul>
	<li><span class="icon"></span><a href="http://localhost:3000" target="_blank">http://localhost:3000</a> â€“ <b>Obsidian</b>: documentation platform (linked to your workspace)</li>
	<li><span class="icon"></span><a href="http://localhost:9080" target="_blank">http://localhost:9080</a> â€“ <b>Mermaid Editor</b>: create mermaid diagrams from text</li>
    </ul>
  </div>

  <div class="section">
    <h2>Paths</h2>
    <ul>
      <li><code>/mnt/cache</code> â€“ persistent datasets and cache storage</li>
      <li><code>/mnt/certs</code> â€“ SSL certificates used by lab services</li>
      <li><code>/mnt/mlflow</code> â€“ persistent MLFlow db and artefacts</li>
      <li><code>/home/lab/workspace</code> â€“ persistent project workspace</li>
      <li><code>/home/lab</code> â€“ persistent user home and settings</li>
      <li><code>/home/lab/.jupyter</code> â€“ JupyterLab settings</li>
      <li><code>/tmp/tensorboard</code> â€“ Tensorboard logs (temporary)</li>
    </ul>
  </div>

  <div class="section">
    <h2>Utilities</h2>
    <ul>
      <li><code>workspace-git-*.sh</code> â€“ sync Git repositories</li>
      <li><code>check-cuda-tensorflow-torch.sh</code> â€“ test GPU availability</li>
      <li><code>cookiecutter-new-project.sh</code> â€“ scaffold new data science projects</li>
    </ul>
  </div>

  <div class="section">
    <h2>Conda Environments</h2>
    <ul>
      <li>Available: <code>base</code>, <code>tensorflow</code>, <code>torch</code>, <code>r_base</code></li>
      <li>Activate with: <code>conda activate &lt;env&gt;</code></li>
      <li>Kernels are added automatically when <code>ipykernel</code> package is installed</li>
      <li>env variable <code>CONDA_DEFAULT_ENV</code> - your default conda environment</li>
      <li>Script <code>~/.profile</code> - set aliases and <code>CONDA_DEFAULT_ENV</code> here</li>
    </ul>
  </div>

  <div class="section">
    <h2>Additional Notes</h2>
    <ul>
      <li><code>/opt/exports</code> â€“ contains precompiled <code>llama_cpp</code> python wheel for NVIDIA CUDA</li>
      <li>env variable <code>MLFLOW_TRACKING_URI</code> - URI to connect to MLFlow</li>
      <li>env variable <code>TF_CPP_MIN_LOG_LEVEL</code> - tensorflow default logging level (err)</li>
      <li>env variable <code>TENSORBOARD_LOGDIR</code> - logs location for tensorboard</li>
    </ul>
  </div>

  <div class="section">
    <h2>Documentation</h2>
    <ul>
      <li><span class="icon">ðŸ—Ž</span><a href="https://github.com/stellarshenson/stellars-jupyterlab-ds" target="_blank">https://github.com/stellarshenson/stellars-jupyterlab-ds</a> â€“ Project repository</li>
    </ul>
  </div>

  <div class="section">
    <h2>Access Control</h2>
    <ul>
      <li>Use <code>sudo</code> for administrative commands</li>
      <li>Default password: <code>password</code> (unless changed)</li>
    </ul>
  </div>

  <script>
    // Replace all localhost-based links with the current hostname
    document.querySelectorAll('a[href*="localhost"]').forEach(link => {
      const original = new URL(link.href);
      const dynamic = new URL(link.href);
      dynamic.hostname = location.hostname;
      link.href = dynamic.toString();
      if (link.textContent.includes("localhost")) {
        link.textContent = dynamic.toString();
      }
    });
  </script>
</body>
</html>
