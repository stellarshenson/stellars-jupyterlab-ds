# Claude Code Journal

This journal tracks substantive work on documents, diagrams, and documentation content.

---

1. **Task - Add Repository Badges**: Added Docker pulls and GitHub clones badges to README.md to display download and clone statistics<br>
    **Result**: Added Docker pulls badge and GitHub clones badge below the existing Docker Image size badge for better visibility of repository metrics

2. **Task - On-demand environment installation**: Migrated from pre-installed conda environments to declarative on-demand installation via workspace utilities<br>
    **Result**: Major architectural change to reduce Docker image size and build time by moving conda environment installations from build-time to runtime. Commented out tensorflow, torch, and r_base environment installations in Dockerfile (lines 369-400, 449-452). Created workspace-utils install-conda-env.sh menu system with dedicated installation scripts in install-conda-env.d/ directory: tensorflow.sh (clones base + installs from /environment_tensorflow.yml), torch.sh (clones base + installs from /environment_torch.yml), r.sh (creates fresh + installs from /environment_r.yml), rust.sh (creates fresh with evcxr Jupyter kernel from /environment_rust.yml). Modified test-cuda.sh to check environment existence via conda env list before executing tests, providing user-friendly installation instructions if environments not found. Updated Dockerfile to copy environment_rust.yml to container root. Updated welcome-template.html to reflect "Pre-installed: base" and "Install on-demand: tensorflow, torch, r_base, rust" with workspace-utils installation instructions. Updated welcome-message.txt to mention "ai assistants and extra environments". Added version comment to environment_base_jupyterlab.yml. Created comprehensive RELEASE.md entry for version 2.60 documenting breaking changes, migration guide, benefits, and technical details. All changes staged in git, ready for commit

3. **Task - Optimize installation and update documentation**: Refined environment installation approach and updated README for v3.0.0 release<br>
    **Result**: Fixed Makefile tag retrieval to use git tag --sort=-creatordate for accurate latest tag identification. Modified TensorBoard startup script (14_start_tensorboard.sh) to launch from base environment instead of tensorflow environment. Optimized tensorflow.sh and torch.sh installation scripts to apply environment_base_template.yml (core packages only) instead of cloning full base environment, reducing installation time and disk usage. Updated README.md to reflect on-demand environment model: marked base as pre-installed, documented workspace-utils.sh installation process, added Rust environment documentation, and clarified TensorBoard is included in base. Built Docker image successfully (7.94GB). Committed changes and tagged as 3.0.0_cuda-13.0.1_jl-4.4.10

4. **Task - Add GitHub Actions CI/CD workflow**: Created automated build workflow for continuous integration<br>
    **Result**: Created .github/workflows/docker-build.yml workflow file configured for build-only mode (no Docker Hub push). Workflow triggers on main branch pushes, version tags matching pattern *_cuda-*_jl-*, and manual workflow dispatch. Uses Docker buildx with GitHub Actions cache for efficient builds. Configured for linux/amd64 platform. Added GitHub Actions build status badge to README.md. Workflow validates Docker image builds without requiring Docker Hub credentials or secrets. Updated README.md to reflect v3.0 on-demand environment model - clarified only base environment is pre-installed, TensorFlow/PyTorch require installation via workspace-utils.sh, faster build times, and TensorBoard included in base
