# Claude Code Journal

This journal tracks substantive work on documents, diagrams, and documentation content.

---

1. **Task - Add Repository Badges**: Added Docker pulls and GitHub clones badges to README.md to display download and clone statistics<br>
    **Result**: Added Docker pulls badge and GitHub clones badge below the existing Docker Image size badge for better visibility of repository metrics

2. **Task - On-demand environment installation**: Migrated from pre-installed conda environments to declarative on-demand installation via workspace utilities<br>
    **Result**: Major architectural change to reduce Docker image size and build time by moving conda environment installations from build-time to runtime. Commented out tensorflow, torch, and r_base environment installations in Dockerfile (lines 369-400, 449-452). Created workspace-utils install-conda-env.sh menu system with dedicated installation scripts in install-conda-env.d/ directory: tensorflow.sh (clones base + installs from /environment_tensorflow.yml), torch.sh (clones base + installs from /environment_torch.yml), r.sh (creates fresh + installs from /environment_r.yml), rust.sh (creates fresh with evcxr Jupyter kernel from /environment_rust.yml). Modified test-cuda.sh to check environment existence via conda env list before executing tests, providing user-friendly installation instructions if environments not found. Updated Dockerfile to copy environment_rust.yml to container root. Updated welcome-template.html to reflect "Pre-installed: base" and "Install on-demand: tensorflow, torch, r_base, rust" with workspace-utils installation instructions. Updated welcome-message.txt to mention "ai assistants and extra environments". Added version comment to environment_base_jupyterlab.yml. Created comprehensive RELEASE.md entry for version 2.60 documenting breaking changes, migration guide, benefits, and technical details. All changes staged in git, ready for commit

3. **Task - Optimize installation and update documentation**: Refined environment installation approach and updated README for v3.0.0 release<br>
    **Result**: Fixed Makefile tag retrieval to use git tag --sort=-creatordate for accurate latest tag identification. Modified TensorBoard startup script (14_start_tensorboard.sh) to launch from base environment instead of tensorflow environment. Optimized tensorflow.sh and torch.sh installation scripts to apply environment_base_template.yml (core packages only) instead of cloning full base environment, reducing installation time and disk usage. Updated README.md to reflect on-demand environment model: marked base as pre-installed, documented workspace-utils.sh installation process, added Rust environment documentation, and clarified TensorBoard is included in base. Built Docker image successfully (7.94GB). Committed changes and tagged as 3.0.0_cuda-13.0.1_jl-4.4.10

4. **Task - Add GitHub Actions CI/CD workflow**: Created automated build workflow for continuous integration<br>
    **Result**: Created .github/workflows/docker-build.yml workflow file configured for build-only mode (no Docker Hub push). Workflow triggers on main branch pushes, version tags matching pattern *_cuda-*_jl-*, and manual workflow dispatch. Uses Docker buildx with GitHub Actions cache for efficient builds. Configured for linux/amd64 platform. Added GitHub Actions build status badge to README.md. Workflow validates Docker image builds without requiring Docker Hub credentials or secrets. Updated README.md to reflect v3.0 on-demand environment model - clarified only base environment is pre-installed, TensorFlow/PyTorch require installation via workspace-utils.sh, faster build times, and TensorBoard included in base. Changed workflow from full Docker build to Dockerfile validation using hadolint linter. Added pull_request trigger. Configured ignore list for hadolint warnings: DL3008, DL3013, DL3015, DL3059 (existing), DL3027 (apt vs apt-get), DL4006 (pipefail), SC2006 (backticks), SC1008 (heredoc false positives)

5. **Task - Rename workspace-utils to lab-utils**: Simplified utility naming convention for better clarity<br>
    **Result**: Renamed workspace-utils.sh to lab-utils (removed .sh extension), renamed workspace-utils.d folder to lab-utils.d. Updated SCRIPTS_DIR path in lab-utils script from /opt/utils/workspace-utils.d to /opt/utils/lab-utils.d. Changed dialog title from "Workspace Utils" to "Lab Utils". Updated all references in welcome-template.html (utilities section and conda environments section) and welcome-message.txt to use new naming

6. **Task - Rename install-code-assistant to install-ai-assistant**: Aligned naming with AI terminology<br>
    **Result**: Renamed install-code-assistant.sh to install-ai-assistant.sh, renamed install-code-assistant.d folder to install-ai-assistant.d. Updated SCRIPTS_DIR path in install-ai-assistant.sh from install-code-assistant.d to install-ai-assistant.d. Changed dialog title from "Install Code Assistant" to "Install AI Assistant" and menu text from "Select code assistant to install" to "Select AI assistant to install". Updated header comment from "Installs Code Assistant" to "Installs AI Assistant"

7. **Task - Add JupyterLab Extensions**: Enhanced base environment with parquet file viewing capability<br>
    **Result**: Added jupyterlab_parquet_viewer_extension to environment_base_jupyterlab.yml (line 50) to enable viewing parquet files directly in JupyterLab interface

8. **Task - Update documentation for lab-utils**: Completed documentation updates for lab-utils renaming and fixed startup script<br>
    **Result**: Fixed startup script 03_workspace_scripts.sh to create symlinks for all files in /opt/utils (not just .sh files), ensuring lab-utils without extension is properly linked. Updated README.md with 9 changes: replaced all workspace-utils.sh references with lab-utils, changed section header from "Workspace Utilities" to "Lab Utilities", updated script references in JupyterLab Extensions, Conda Environments, Configuration, Deep Learning, and User Experience sections. Added new screenshot-lab-utils.png showing the Lab Utils dialog interface and updated README to reference the new screenshot
